/*! For license information please see module.js.LICENSE.txt */
define(["emotion","react","@grafana/data","@grafana/ui"],(function(e,t,a,n){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=4)}([function(t,a){t.exports=e},function(e,a){e.exports=t},function(e,t){e.exports=a},function(e,t){e.exports=n},function(e,t,a){"use strict";a.r(t);var n=a(2);function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o=a(1),l=a.n(o),i=a(0),u=a(3);function s(e){var t;return(null===(t=Object(n.getColorDefinitionByName)(e))||void 0===t?void 0:t.variants.dark)||e}function c(e){var t,a,n,o,u,c=b(),d=Math.max(-100,Math.min(e.percentage,100)),f=e.options.colorOver;return d<0&&(f=e.options.colorUnder,d>e.options.warningThreshold&&e.options.showWarning&&(f=e.options.colorWarn)),l.a.createElement("div",{className:Object(i.cx)(c.bar,Object(i.css)(p||(p=r(["\n          background-color: ",";\n          width: ","%;\n          height: ","%;\n          margin-left: ","%;\n        "],["\n          background-color: ",";\n          width: ","%;\n          height: ","%;\n          margin-left: ","%;\n        "])),s(f),Math.abs(d/2),e.options.progressBarHeight,Math.min((t=d,a=-100,n=0,o=0,u=50,(t-a)*(u-o)/(n-a)+o),50)))})}function d(e){var t=b();return l.a.createElement("div",{className:Object(i.cx)(t.section,Object(i.css)(m||(m=r(["\n          background-color: ",";\n        "],["\n          background-color: ",";\n        "])),s(e.color)))})}function f(e){var t=b();return l.a.createElement("div",{className:t.debug},JSON.stringify(e.data))}var p,m,g,h,v,b=Object(u.stylesFactory)((function(){return{section:Object(i.css)(g||(g=r(["\n      height: 100%;\n      width: 50%;\n      float: left;\n      margin: 0px;\n    "],["\n      height: 100%;\n      width: 50%;\n      float: left;\n      margin: 0px;\n    "]))),bar:Object(i.css)(h||(h=r(["\n      margin: 0px;\n      position: relative;\n      top: 50%;\n      -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n      transform: translateY(-50%);\n    "],["\n      margin: 0px;\n      position: relative;\n      top: 50%;\n      -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n      transform: translateY(-50%);\n    "]))),debug:Object(i.css)(v||(v=r(["\n      font-size: xx-small;\n    "],["\n      font-size: xx-small;\n    "])))}})),w=function(){function e(e,t){this.value=x(e,t.valueDataColumnName,t.operation),this.target=t.target,t.targetFromData&&(this.target=x(e,t.targetDataColumnName,t.operationTarget)),this.percentage=100-this.value/this.target*100}return e.prototype.summary=function(){return this.value.toFixed(2)+"/"+this.target.toFixed(2)+" ("+this.percentage.toFixed(2)+"%)"},e}();function x(e,t,a){var n,r,o=null===(r=null===(n=e.series[0].fields.find((function(e){return e.name===t})))||void 0===n?void 0:n.state)||void 0===r?void 0:r.calcs;return null!=o?o[a]:null}var O,y,V,j,C=Object(u.stylesFactory)((function(){return{wrapper:Object(i.css)(V||(V=r(["\n      position: relative;\n      margin: 0px;\n      padding: 0px;\n    "],["\n      position: relative;\n      margin: 0px;\n      padding: 0px;\n    "]))),value:Object(i.css)(j||(j=r(["\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      font-size: large;\n    "],["\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      font-size: large;\n    "])))}}));a.d(t,"plugin",(function(){return S}));var S=new n.PanelPlugin((function(e){var t=e.options,a=e.data,n=e.width,o=e.height,u=C(),p=new w(a,t);return null===p.value?l.a.createElement("div",null,l.a.createElement("p",null,"Received no data."),t.debug&&l.a.createElement(f,{data:a})):l.a.createElement("div",{title:p.summary(),className:Object(i.cx)(u.wrapper,Object(i.css)(O||(O=r(["\n          width: ","px;\n          height: ","px;\n        "],["\n          width: ","px;\n          height: ","px;\n        "])),n,o))},t.debug&&l.a.createElement(f,{data:a}),l.a.createElement(d,{color:t.colorSectionUnder}),l.a.createElement(d,{color:t.colorSectionOver}),l.a.createElement(c,{percentage:p.percentage,options:t}),t.showValue&&l.a.createElement("p",{className:Object(i.cx)(u.value,Object(i.css)(y||(y=r(["\n              color: ",";\n              opacity: ",";\n            "],["\n              color: ",";\n              opacity: ",";\n            "])),s(t.valueColor),t.valueOpacity))},p.value.toFixed(2),t.showUnit&&t.unit))})).setPanelOptions((function(e){return e.addBooleanSwitch({path:"showWarning",name:"Show warning",defaultValue:!0}).addNumberInput({path:"warningThreshold",name:"Warning threshold",settings:{integer:!1,min:-100,max:0,step:1},defaultValue:-5,showIf:function(e){return e.showWarning}}).addColorPicker({path:"colorOver",name:"Bar color for positive percentages",settings:{enableNamedColors:!0},defaultValue:"green"}).addColorPicker({path:"colorSectionOver",name:"Color for positive section background",settings:{enableNamedColors:!0},defaultValue:"#002200"}).addColorPicker({path:"colorUnder",name:"Bar color for negative percentages",settings:{enableNamedColors:!0},defaultValue:"red"}).addColorPicker({path:"colorSectionUnder",name:"Color for negative section background",settings:{enableNamedColors:!0},defaultValue:"#220000"}).addColorPicker({path:"colorWarn",name:"Bar color for warning percentages",settings:{enableNamedColors:!0},defaultValue:"orange",showIf:function(e){return e.showWarning}}).addNumberInput({path:"progressBarHeight",name:"Progress bar height (%)",settings:{integer:!1,min:0,max:100,step:10},defaultValue:100}).addTextInput({path:"valueDataColumnName",name:"Column name for value",defaultValue:"value"}).addSelect({path:"operation",name:"Series operation for calculating value",defaultValue:"first",settings:{options:[{value:"first",label:"First"},{value:"last",label:"Last"},{value:"mean",label:"Average"},{value:"max",label:"Max"},{value:"min",label:"Min"},{value:"sum",label:"Total"}]}}).addBooleanSwitch({path:"showValue",name:"Show value",defaultValue:!0}).addColorPicker({path:"valueColor",name:"Value color",settings:{enableNamedColors:!0},defaultValue:"white",showIf:function(e){return e.showValue}}).addNumberInput({path:"valueOpacity",name:"Value opacity",settings:{integer:!1,min:0,max:1,step:.1},defaultValue:.6,showIf:function(e){return e.showValue}}).addBooleanSwitch({path:"showUnit",name:"Show unit",defaultValue:!0,showIf:function(e){return e.showValue}}).addUnitPicker({path:"unit",name:"Unit",defaultValue:"ms",showIf:function(e){return e.showValue&&e.showUnit}}).addBooleanSwitch({path:"targetFromData",name:"Read target from data",defaultValue:!1}).addNumberInput({path:"target",name:"Target",defaultValue:100,showIf:function(e){return!e.targetFromData}}).addTextInput({path:"targetDataColumnName",name:"Column name for target",defaultValue:"target",showIf:function(e){return e.targetFromData}}).addSelect({path:"operationTarget",name:"Series operation for calculating target",defaultValue:"first",settings:{options:[{value:"first",label:"First"},{value:"last",label:"Last"},{value:"mean",label:"Average"},{value:"max",label:"Max"},{value:"min",label:"Min"},{value:"sum",label:"Total"}]},showIf:function(e){return e.targetFromData}}).addBooleanSwitch({path:"debug",name:"Debug",defaultValue:!1})}))}])}));
//# sourceMappingURL=module.js.map